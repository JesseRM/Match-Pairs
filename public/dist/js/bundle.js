!function(e){var t={};function i(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);class s{constructor(e,t,i){this.type=e,this.size=t[0]*t[1],this.possibleVals=null,this.cards=[],this.matched=0,this.cardWidth=i.element.width/t[0],this.cardHeight=i.element.height/t[1]}setCards(e,t){let i=this.randomizeVals([...e]),s=0,r=0;for(let e=0;e<i.length;e++)this.cards.push({cardNum:e,type:this.type,value:i[e],width:this.cardWidth,height:this.cardHeight,matched:!1,x:s,y:r}),(s+=this.cardWidth)>=t.element.width&&(s=0,r+=this.cardHeight)}getValues(){return new Promise(e=>{"word"===this.type&&e(this.getWords()),"number"===this.type&&e(this.getNumbers(1,100)),"picture"===this.type&&this.getImages().then(t=>{e(t)})})}getNumbers(e,t){let i=[];for(;i.length<this.size;){let s=String(Math.floor(Math.random()*(t-e+1)+e));i.includes(s)||i.push(s,s)}return i}getWords(){let e=[];for(;e.length<this.size;){let t=Math.floor(Math.random()*this.possibleVals.length);e.includes(this.possibleVals[t])||e.push(this.possibleVals[t],this.possibleVals[t])}return e}async getImages(){let e=this.getImageNames(),t=[];for(let i=0;i<e.length;i++){let s=await this.loadImage(e[i]);t.push(s,s)}return t}getImageNames(){let e=[];for(;e.length<this.size/2;){let t=Math.floor(Math.random()*this.possibleVals.length);e.includes(this.possibleVals[t])||e.push(this.possibleVals[t])}return e}loadImage(e){return new Promise((t,i)=>{let s=new Image;s.src=`./images/${e}.png`,s.onload=(()=>{console.log("loaded"),t(s)}),s.onerror=(()=>{console.log("Error loading image")})})}getClickedCard(e){for(let t=0;t<this.cards.length;t++)if(e.x>=this.cards[t].x&&e.x<=this.cards[t].x+this.cardWidth&&e.y>=this.cards[t].y&&e.y<=this.cards[t].y+this.cardHeight)return this.cards[t]}randomizeVals(e){let t=[...e];for(let e=t.length-1;e>0;e--){let i=Math.floor(Math.random()*(e+1));[t[e],t[i]]=[t[i],t[e]]}return t}}function r(e,t,i){t.userInput=!1,t.isRunning=!1,t&&t.options.timer.id&&clearInterval(t.options.timer.id),i.setFont("50px Bangers"),i.ctx.fillStyle="rgba(230, 235, 244, 0.7)",i.ctx.fillRect(0,0,i.element.width,i.element.height),"win"===e&&(i.ctx.fillStyle="#148207"),"loose"===e&&(i.ctx.fillStyle="#b80404"),i.ctx.textAlign="center",i.ctx.fillText("win"===e?"You win!":"Out of time...",i.element.width/2,i.element.height/2)}function l(e,t){let i=e%60,s=`${Math.floor(e/60)}:${i<10?"0":""}${i}`;t.textContent=s}const n=["cat","dog","pizza","office","games","throne","zebra","watermelon","peach","clothes","purse","stairs","pool","wood","house","apartment","bathroom","light","frame","beautiful","forest","woods","axe","curtain","computer","language","wheel","television","glasses","concrete","hospital","surprise","couch","rocket","clouds","library","lake","garage","painting"],o=["alligator","basketball","batman","beach-ball","butterfly","c-3po","cherry","chewbacca","cookie-monster","corgi","cute-hamster","cyborg","diamond","dinosaur","doughnut","f1-car","fenix","flip-flops","fox","french-fries","genie","grey","guitar","hamburger","happy-mac","helicopter","motorbike-helmet","mummy","ninja-turtle","octopus","owl","planet","prawn","pretzel","pug","pumpkin","r2-d2","rocket","soccer-ball","sport","strawberry","superman-dc","tennis-ball","tesla-model-x","turtle","umbrella","unicorn","watermelon","wizard","wonder-woman"],a=document.querySelector("#timer"),c=document.querySelector("#play-btn"),d={gridSize:document.querySelector("#grid-select"),type:document.querySelector("#type-select"),time:document.querySelector("#time-select")},h=new class{constructor(e,t){this.element=t,this.backgroundColor=e,this.ctx=null}setContext(){this.element.width=this.element.clientWidth,this.element.height=this.element.clientHeight,this.ctx=this.element.getContext("2d")}draw(){this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.element.width,this.element.height)}drawBlankCards(e){e.forEach(e=>{this.ctx.fillStyle="#5C8495",this.ctx.fillRect(e.x,e.y,e.width,e.height),this.ctx.lineWidth=5,this.ctx.strokeStyle="#001017",this.ctx.strokeRect(e.x,e.y,e.width,e.height)})}getClickedCoordinates(e){let t=this.element.getBoundingClientRect(),i={};return i.x=e.clientX-t.left,i.y=e.clientY-t.top,i}drawValue(e){if("picture"===e.type){let t=e.value.width>e.width?e.width-20:e.value.width,i=e.value.height>e.height?e.height-20:e.value.height,s=e.x+(e.width-t)/2,r=e.y+(e.height-i)/2;this.ctx.drawImage(e.value,s,r,t,i)}else this.ctx.fillStyle="#100f0f",this.ctx.textAlign="center",this.ctx.fillText(e.value,e.x+e.width/2,e.y+e.height/2)}drawSelectedCard(e,t){t&&(this.ctx.font=`20px ${t}`),this.ctx.fillStyle="#dad5d5",this.ctx.fillRect(e.x,e.y,e.width,e.height),this.ctx.lineWidth=5,this.ctx.strokeStyle="#b5361b",this.ctx.strokeRect(e.x,e.y,e.width,e.height),this.drawValue(e)}setMatchedCards(e){e.forEach(e=>{this.ctx.lineWidth=5,this.ctx.strokeStyle="#001017",this.ctx.strokeRect(e.x,e.y,e.width,e.height)})}setFont(e){this.ctx.font=e}}("#27566B",document.querySelector("#canvas"));let u=null,g=null;c.addEventListener("click",()=>{g&&g.options.timer.id&&(a.textContent="",clearInterval(g.options.timer.id)),(g={options:null,cardsDisplayed:0,cardsClicked:[],userInput:!0,isRunning:!0}).options=function(e){const t={};if("4 x 4"===e.gridSize.value?t.grid=[4,4]:"4 x 5"===e.gridSize.value?t.grid=[4,5]:"5 x 6"===e.gridSize.value?t.grid=[5,6]:t.grid=[4,4],t.type=e.type.value.toLowerCase(),t.timer={},"None"!==e.time.value){let i=parseInt(e.time.value,10);t.timer.seconds=i&&i>0&&i<=5?60*i:0}return t}(d),h.setContext(),"word"===(u=new s(g.options.type,g.options.grid,h)).type&&(u.possibleVals=n),"picture"===u.type&&(u.possibleVals=o),u.getValues().then(e=>{u.setCards(e,h),h.draw(),h.drawBlankCards(u.cards),h.element.classList.add("shadow")}),g.options.timer.seconds&&function(e,t,i){let s=Date.now()+1e3*e.options.timer.seconds;l(e.options.timer.seconds,t),e.options.timer.id=setInterval(()=>{if(e.options.timer.secondsLeft=Math.round((s-Date.now())/1e3),e.options.timer.secondsLeft<0)return clearInterval(e.options.timer.id),void r("loose",e,i);l(e.options.timer.secondsLeft,t)},1e3)}(g,a,h)}),h.element.addEventListener("click",e=>{let t=u.getClickedCard(h.getClickedCoordinates(e));g.userInput&&!0!==t.matched&&!g.cardsClicked.includes(t)&&(g.cardsDisplayed++,g.cardsDisplayed<=2&&(h.drawSelectedCard(t,"Bangers"),g.cardsClicked.push(t)),2===g.cardsDisplayed&&(g.userInput=!1,g.cardsClicked[0].value!==g.cardsClicked[1].value?setTimeout(()=>{g.isRunning&&(h.drawBlankCards(g.cardsClicked),g.cardsClicked=[],g.userInput=!0)},1e3):(h.setMatchedCards(g.cardsClicked),g.cardsClicked[0].matched=!0,g.cardsClicked[1].matched=!0,g.cardsClicked=[],g.userInput=!0,u.matched+=2),g.cardsDisplayed=0,u.matched===u.size&&r("win",g,h)))})}]);